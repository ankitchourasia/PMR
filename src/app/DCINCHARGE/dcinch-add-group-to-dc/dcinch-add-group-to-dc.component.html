<div class="wrapper" appNoRightClick>
    <app-dcinch-header></app-dcinch-header>
    <app-dcinch-sidebar></app-dcinch-sidebar>
    <div  class="loadr" *ngIf='loading'>
      <img src="assets/imgs/loading.gif" class="loadimg">
     </div>
       <div class="content-wrapper">
             <section class="content-header">
               <h1>
                 DC Group RD Master Management
               </h1>
               <ol class="breadcrumb">
                  <li><a href="#"><i class="fa fa-dashboard"></i>  DC Group RD Master Management</a></li>
                  <li class="active">Add Group To DC</li>
                </ol>
             </section>
             <section class="content">
               <div class="row">
                 <div class="col-md-12">
                   <div class="box box-warning">

                     <!-- /.box-header -->
                     <div class="box-body">
                        <form class="form-horizontal" #f="ngForm" novalidate>
                            <div class="box-body">
                              <h4>Download Data From NGB</h4>
                              <div class="well">
                             <div class="row">
                             <div class="col-md-4"> <h4 style="color: brown">Download complete Group & RD data from NGB</h4></div>
                             <div class="col-md-4"><button type="submit" class="btn btn-info btn-sm btn-block" (click)="downloadData()">Download complete Gorup & RD from NGB</button></div>
                             <div class="col-md-4"><button type="submit" class="btn btn-info btn-sm btn-block m-t-10" (click)="viewGroups()">View list of downloaded Groups</button></div>
                             </div>
                               </div>
                                <!-- /.box-body -->

                                  <!-- /.box-footer -->

                            </div>
                            </form>

<form class="form-horizontal" #f="ngForm" novalidate>
  <div class="box-body">
    <h4>Add Group</h4>
    <div class="well">
      <div class="row">
        <div class="col-md-5"></div>
        <div class="col-md-5"></div>
        <div class="col-md-2"></div>
      </div>
    <div class="form-group">
      <label class="control-label col-sm-2" >Group No.</label>
      <div class="col-sm-8">
        <input type="text" [(ngModel)]="groupno" name="groupnoText" class="form-control" #groupnoText="ngModel" [ngClass]="{ 'is-invalid': f.submitted && groupnoText.invalid }" required>
        <div *ngIf="f.submitted && groupnoText.invalid" class="invalid-feedback">
          <div *ngIf="groupnoText.errors.required">Group No. is Required</div>
      </div>
      </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2" >Group Name</label>
        <div class="col-sm-8">
          <input type="text" [(ngModel)]="groupname" name="groupnameText" class="form-control" #groupnameText="ngModel" [ngClass]="{ 'is-invalid': f.submitted && groupnameText.invalid }" required>
          <div *ngIf="f.submitted && groupnameText.invalid" class="invalid-feedback">
            <div *ngIf="groupnameText.errors.required">Group Name is Required</div>
        </div>
        </div>
      </div>
      <div class="form-group">
          <label class="control-label col-sm-2" ></label>
          <div class="col-sm-8">
              <button type="submit" class="btn btn-success" [disabled]="!f.form.valid" (click)="addGroupToDC()">Submit</button>

          </div>
        </div>
    </div>
      <!-- /.box-body -->

        <!-- /.box-footer -->

  </div>
  </form>
</div>
</div>
</div>
</div>

<div class="row" *ngIf="showData">
  <div class="col-md-12">
    <div class="box box-warning">
      <div class="box-header with-border">
        <h3 class="box-title">List Of Downloaded Groups In DC</h3>

        <!-- /.box-tools -->
      </div>
      <!-- /.box-header -->
      <div class="box-body">
        <div class="table-responsive">

      <table class="table table-bordered  custab">
<thead>
<tr>
<th>Sr. No.</th>
<th>Group No.</th>
<th>Group Name</th>
<th>View RD of Group</th>

</tr></thead>
<tbody *ngIf="resp2?.length > 0" >
<tr *ngFor='let data of resp2 ; index as i'>
<td>{{i+1}}</td>
<td>{{data.groupno}}</td>
<td>{{data.groupname}}</td>
<td> <button type="button" class="btn btn-warning btn-sm" (click)="viewRdofGroup(data.groupno)">View RD</button></td>
</tr></tbody>
<tbody *ngIf="resp?.length == ''" >

<tr> <td colspan="12" class="text-center"> <strong>No data Found.</strong></td></tr>

</tbody>

</table>
</div>
</div>
<!-- /.box-body -->
</div>
<!-- /.box -->
</div>
</div>
</section>
</div>
<footer class="main-footer">
  <strong>Copyright &copy; 2019 <a >NGBPMR</a>. Software developed and maintained by Central Software Development Cell of MPPKVVCL, under SE IT ERP.</strong>
 reserved.
</footer>
</div>
